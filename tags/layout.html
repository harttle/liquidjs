<!DOCTYPE html>
<html lang="en">
<head prefix="og: https://ogp.me/ns#">
  <meta charset="utf-8">
  <title>Layout | LiquidJS</title>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="LiquidJS is a simple, expressive and safe Shopify / GitHub Pages compatible template engine in pure JavaScript.">
  <link rel="dns-prefetch" href="https://cdn.jsdelivr.net/">
  <link rel="manifest" href="/manifest.json">
  <!-- Canonical links -->
  <link rel="canonical" href="https://liquidjs.com/tags/layout.html">
  <!-- Alternative links -->
  
    
      <link rel="alternative" hreflang="en" href="https://liquidjs.com/tags/layout">
    
      <link rel="alternative" hreflang="zh-cn" href="https://liquidjs.com/zh-cn/tags/layout">
    
  
  <!-- Icon -->
  <link rel="apple-touch-icon" sizes="57x57" href="../icon/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="114x114" href="../icon/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="72x72" href="../icon/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="144x144" href="../icon/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="60x60" href="../icon/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="120x120" href="../icon/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="76x76" href="../icon/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="152x152" href="../icon/apple-touch-icon-152x152.png">
  <link rel="icon" type="image/png" href="../icon/favicon-196x196.png" sizes="196x196">
  <link rel="icon" type="image/png" href="../icon/favicon-160x160.png" sizes="160x160">
  <link rel="icon" type="image/png" href="../icon/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="../icon/favicon-16x16.png" sizes="16x16">
  <link rel="icon" type="image/png" href="../icon/favicon-32x32.png" sizes="32x32">
  <meta name="msapplication-TileColor" content="#2f83cd">
  <meta name="msapplication-TileImage" content="../icon/mstile-144x144.png">
  
<link rel="stylesheet" href="../css/navy.css">

  <link rel="alternate" href="../atom.xml" title="LiquidJS" type="application/atom+xml">
<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <header id="header" class="wrapper">
  <div id="header-inner" class="inner">
    <h1 id="logo-wrap">
      <a href="../index.html" id="logo">LiquidJS</a>
    </h1>
    <nav id="main-nav">
      <a href="../tutorials/intro-to-liquid.html" class="main-nav-link">Tutorials</a><a href="../tags/overview.html" class="main-nav-link">Tags</a><a href="../filters/overview.html" class="main-nav-link">Filters</a><a href="../playground.html" class="main-nav-link">Playground</a><a href="../api/classes/Liquid.html" class="main-nav-link">API</a>
      <div id="search-input-wrap">
        <i id="search-input-icon" class="icon-search"></i>
        <input type="search" id="search-input" placeholder="Search...">
      </div>
    </nav>
    <div class="main-nav-link icon-nav-link">
      <label><i class="icon-network"></i> <span class="icon-nav-title">English</span></label>
      <select id="lang-select" data-canonical="tags/layout.html">
        
          <option value="en" selected>English</option>
        
          <option value="zh-cn">简体中文</option>
        
      </select>
    </div>
    <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/harttle/liquidjs" class="main-nav-link icon-nav-link"><i class="icon-github"></i> <span class="icon-nav-title">GitHub</span></a>
    <a id="mobile-nav-toggle">
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
    </a>
  </div>
</header>

    <div id="content-wrap">
  <div id="content" class="wrapper">
    <div id="content-inner">
      <aside id="sidebar" role="navigation">
  <div class="inner">
    <a href="overview.html" class="sidebar-link">Overview</a><a href="inline_comment.html" class="sidebar-link">#</a><a href="assign.html" class="sidebar-link">assign</a><a href="capture.html" class="sidebar-link">capture</a><a href="case.html" class="sidebar-link">case</a><a href="comment.html" class="sidebar-link">comment</a><a href="cycle.html" class="sidebar-link">cycle</a><a href="decrement.html" class="sidebar-link">decrement</a><a href="echo.html" class="sidebar-link">echo</a><a href="if.html" class="sidebar-link">else</a><a href="if.html" class="sidebar-link">elsif</a><a href="for.html" class="sidebar-link">for</a><a href="if.html" class="sidebar-link">if</a><a href="include.html" class="sidebar-link">include</a><a href="increment.html" class="sidebar-link">increment</a><a href="layout.html" class="sidebar-link current">layout</a><a href="liquid.html" class="sidebar-link">liquid</a><a href="raw.html" class="sidebar-link">raw</a><a href="render.html" class="sidebar-link">render</a><a href="tablerow.html" class="sidebar-link">tablerow</a><a href="unless.html" class="sidebar-link">unless</a><a href="case.html" class="sidebar-link">when</a>
  </div>
</aside>
      <article class="article-container" itemscope itemtype="https://schema.org/Article">
        <div class="article-inner">
          <div class="article">
            <div class="inner">
              <header class="article-header">
                <h1 class="article-title" itemprop="name">Layout</h1>
                
                <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/harttle/liquidjs/edit/master/docs/source/tags/layout.md" class="article-edit-link" title="Improve this doc"><i class="icon-pencil"></i></a>
                
              </header>
              <div class="article-content" itemprop="articleBody">
                <p class="since">v1.9.1</p>

<h2 id="Using-a-Layout" class="article-heading"><a href="#Using-a-Layout" class="headerlink" title="Using a Layout"></a>Using a Layout<a class="article-anchor" href="#Using-a-Layout" aria-hidden="true"></a></h2><p>Introduce a layout template for the current template to render in. The directory for layout files are defined by <a href="/api/interfaces/LiquidOptions.html#layouts">layouts</a> or <a href="/api/interfaces/LiquidOptions.html#root">root</a>.</p>
<pre class="line-numbers language-liquid" data-language="liquid"><code class="language-liquid">// default-layout.liquid
Header
<span class="token liquid language-liquid"><span class="token delimiter punctuation">&#123;%</span> <span class="token object">block</span> <span class="token delimiter punctuation">%&#125;</span></span><span class="token liquid language-liquid"><span class="token delimiter punctuation">&#123;%</span> endblock <span class="token delimiter punctuation">%&#125;</span></span>
Footer

// page.liquid
<span class="token liquid language-liquid"><span class="token delimiter punctuation">&#123;%</span> layout <span class="token string">"default-layout.liquid"</span> <span class="token delimiter punctuation">%&#125;</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">&#123;%</span> <span class="token object">block</span> <span class="token delimiter punctuation">%&#125;</span></span>My page content<span class="token liquid language-liquid"><span class="token delimiter punctuation">&#123;%</span> endblock <span class="token delimiter punctuation">%&#125;</span></span>

// result
Header
My page content
Footer<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>If <a href="/api/interfaces/LiquidOptions.html#extname">extname</a> option is set, the <code>.liquid</code> extension becomes optional:</p>
<pre class="line-numbers language-liquid" data-language="liquid"><code class="language-liquid"><span class="token liquid language-liquid"><span class="token delimiter punctuation">&#123;%</span> layout <span class="token string">'default-layout'</span> <span class="token delimiter punctuation">%&#125;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<blockquote class="note info"><strong class="note-title">Scoping</strong><p>When a partial template is rendered by <code>layout</code>, its template have access for its caller’s variables but not vice versa. Variables defined in layout will be popped out before control returning to its caller.</p>
</blockquote>

<h2 id="Multiple-Blocks" class="article-heading"><a href="#Multiple-Blocks" class="headerlink" title="Multiple Blocks"></a>Multiple Blocks<a class="article-anchor" href="#Multiple-Blocks" aria-hidden="true"></a></h2><p>The layout file can contain multiple blocks, each with a specified name. The following snippets yield same result as in the above example.</p>
<pre class="line-numbers language-liquid" data-language="liquid"><code class="language-liquid">// default-layout.liquid
<span class="token liquid language-liquid"><span class="token delimiter punctuation">&#123;%</span> <span class="token object">block</span> header <span class="token delimiter punctuation">%&#125;</span></span><span class="token liquid language-liquid"><span class="token delimiter punctuation">&#123;%</span> endblock <span class="token delimiter punctuation">%&#125;</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">&#123;%</span> <span class="token object">block</span> content <span class="token delimiter punctuation">%&#125;</span></span><span class="token liquid language-liquid"><span class="token delimiter punctuation">&#123;%</span> endblock <span class="token delimiter punctuation">%&#125;</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">&#123;%</span> <span class="token object">block</span> footer <span class="token delimiter punctuation">%&#125;</span></span><span class="token liquid language-liquid"><span class="token delimiter punctuation">&#123;%</span> endblock <span class="token delimiter punctuation">%&#125;</span></span>

// page.liquid
<span class="token liquid language-liquid"><span class="token delimiter punctuation">&#123;%</span> layout <span class="token string">"default-layout.liquid"</span> <span class="token delimiter punctuation">%&#125;</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">&#123;%</span> <span class="token object">block</span> header <span class="token delimiter punctuation">%&#125;</span></span>Header<span class="token liquid language-liquid"><span class="token delimiter punctuation">&#123;%</span> endblock <span class="token delimiter punctuation">%&#125;</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">&#123;%</span> <span class="token object">block</span> content <span class="token delimiter punctuation">%&#125;</span></span>My page content<span class="token liquid language-liquid"><span class="token delimiter punctuation">&#123;%</span> endblock <span class="token delimiter punctuation">%&#125;</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">&#123;%</span> <span class="token object">block</span> footer <span class="token delimiter punctuation">%&#125;</span></span>Footer<span class="token liquid language-liquid"><span class="token delimiter punctuation">&#123;%</span> endblock <span class="token delimiter punctuation">%&#125;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="Default-Block-Contents" class="article-heading"><a href="#Default-Block-Contents" class="headerlink" title="Default Block Contents"></a>Default Block Contents<a class="article-anchor" href="#Default-Block-Contents" aria-hidden="true"></a></h2><p>In the above layout files, blocks has empty contents. But it’s not necessarily be empty, in which case, the block contents in layout files will be used as default templates. The following snippets are also equivalent to the above examples:</p>
<pre class="line-numbers language-liquid" data-language="liquid"><code class="language-liquid">// default-layout.liquid
<span class="token liquid language-liquid"><span class="token delimiter punctuation">&#123;%</span> <span class="token object">block</span> header <span class="token delimiter punctuation">%&#125;</span></span>Header<span class="token liquid language-liquid"><span class="token delimiter punctuation">&#123;%</span> endblock <span class="token delimiter punctuation">%&#125;</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">&#123;%</span> <span class="token object">block</span> content <span class="token delimiter punctuation">%&#125;</span></span><span class="token liquid language-liquid"><span class="token delimiter punctuation">&#123;%</span> endblock <span class="token delimiter punctuation">%&#125;</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">&#123;%</span> <span class="token object">block</span> footer <span class="token delimiter punctuation">%&#125;</span></span>Footer<span class="token liquid language-liquid"><span class="token delimiter punctuation">&#123;%</span> endblock <span class="token delimiter punctuation">%&#125;</span></span>

// page.liquid
<span class="token liquid language-liquid"><span class="token delimiter punctuation">&#123;%</span> layout <span class="token string">"default-layout.liquid"</span> <span class="token delimiter punctuation">%&#125;</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">&#123;%</span> <span class="token object">block</span> content <span class="token delimiter punctuation">%&#125;</span></span>My page content<span class="token liquid language-liquid"><span class="token delimiter punctuation">&#123;%</span> endblock <span class="token delimiter punctuation">%&#125;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="Passing-Variables" class="article-heading"><a href="#Passing-Variables" class="headerlink" title="Passing Variables"></a>Passing Variables<a class="article-anchor" href="#Passing-Variables" aria-hidden="true"></a></h2><p>Variables defined in current template can be passed to a the layout template by listing them as parameters on the <code>layout</code> tag:</p>
<pre class="line-numbers language-liquid" data-language="liquid"><code class="language-liquid"><span class="token liquid language-liquid"><span class="token delimiter punctuation">&#123;%</span> <span class="token keyword">assign</span> my_variable <span class="token operator">=</span> <span class="token string">'apples'</span> <span class="token delimiter punctuation">%&#125;</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">&#123;%</span> layout <span class="token string">'name'</span><span class="token punctuation">,</span> my_variable<span class="token operator">:</span> my_variable<span class="token punctuation">,</span> my_other_variable<span class="token operator">:</span> <span class="token string">'oranges'</span> <span class="token delimiter punctuation">%&#125;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h2 id="Outputs-amp-Filters" class="article-heading"><a href="#Outputs-amp-Filters" class="headerlink" title="Outputs &amp; Filters"></a>Outputs &amp; Filters<a class="article-anchor" href="#Outputs-amp-Filters" aria-hidden="true"></a></h2><p>When filename is specified as literal string, it supports Liquid output and filter syntax. Useful when concatenating strings for a complex filename.</p>
<pre class="line-numbers language-liquid" data-language="liquid"><code class="language-liquid"><span class="token liquid language-liquid"><span class="token delimiter punctuation">&#123;%</span> layout <span class="token string">"prefix/&#123;&#123;name | append: \"</span><span class="token punctuation">.</span>html\<span class="token string">"&#125;&#125;"</span> <span class="token delimiter punctuation">%&#125;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<blockquote class="note info"><strong class="note-title">Escaping</strong><p>In LiquidJS, <code>&quot;</code> within quoted string literals need to be escaped. Adding a slash before the quote, e.g. <code>\&quot;</code>. Using Jekyll-like filenames can make this easier, see below.</p>
</blockquote>

<h2 id="Jekyll-like-Filenames" class="article-heading"><a href="#Jekyll-like-Filenames" class="headerlink" title="Jekyll-like Filenames"></a>Jekyll-like Filenames<a class="article-anchor" href="#Jekyll-like-Filenames" aria-hidden="true"></a></h2><p>Setting <a href="/api/interfaces/LiquidOptions.html#dynamicPartials">dynamicPartials</a> to <code>false</code> will enable Jekyll-like filenames, file names are specified as literal string. And it also supports Liquid outputs and filters.</p>
<pre class="line-numbers language-liquid" data-language="liquid"><code class="language-liquid"><span class="token liquid language-liquid"><span class="token delimiter punctuation">&#123;%</span> layout prefix/&#123;&#123; <span class="token object">page</span><span class="token punctuation">.</span>my_variable &#125;&#125;/suffix <span class="token delimiter punctuation">%&#125;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>This way, you don’t need to escape <code>&quot;</code> in the filename expression.</p>
<pre class="line-numbers language-liquid" data-language="liquid"><code class="language-liquid"><span class="token liquid language-liquid"><span class="token delimiter punctuation">&#123;%</span> layout prefix/&#123;&#123;name <span class="token operator">|</span> <span class="token function filter">append</span><span class="token operator">:</span> <span class="token string">".html"</span>&#125;&#125; <span class="token delimiter punctuation">%&#125;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>


              </div>
              <footer class="article-footer">
                <time class="article-footer-updated" datetime="2024-10-16T14:07:40.650Z" itemprop="dateModified">Last updated: 2024-10-16</time>
                <a href="increment.html" class="article-footer-prev" title="sidebar.tags.increment"><i class="icon-chevron-left"></i><span>Prev</span></a><a href="liquid.html" class="article-footer-next" title="sidebar.tags.liquid"><span>Next</span><i class="icon-chevron-right"></i></a>
              </footer>
            </div>
          </div>
          <aside id="article-toc" role="navigation">
            <div id="article-toc-inner">
              <div id="article-toc-inner-list">
                <strong class="sidebar-title">Contents</strong>
                <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-a-Layout"><span class="toc-text">Using a Layout</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Multiple-Blocks"><span class="toc-text">Multiple Blocks</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Default-Block-Contents"><span class="toc-text">Default Block Contents</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Passing-Variables"><span class="toc-text">Passing Variables</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Outputs-amp-Filters"><span class="toc-text">Outputs &amp; Filters</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Jekyll-like-Filenames"><span class="toc-text">Jekyll-like Filenames</span></a></li></ol>
              </div>
              <a href="#" id="article-toc-top">Back to Top</a>
            </div>
          </aside>
        </div>
      </article>
    </div>
  </div>
</div>

    <footer id="footer" class="wrapper">
  <div class="inner">
    <div id="footer-copyright">
      &copy; 2024 <a href="https://github.com/harttle/liquidjs/graphs/contributors" rel="external nofollow noreferrer" target="_blank">Harttle</a><br>
      Documentation licensed under <a href="https://creativecommons.org/licenses/by/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>.
    </div>
    <div id="footer-links">
      <a href="https://twitter.com/harttleharttle" rel="external nofollow noreferrer" class="footer-link" target="_blank"><i class="icon-twitter"></i></a>
      <a href="https://opencollective.com/liquidjs" rel="external nofollow noreferrer" class="footer-link" target="_blank"><i class="icon-opencollective"></i></a>
      <a href="https://github.com/harttle/liquidjs" rel="external nofollow noreferrer" class="footer-link" target="_blank"><i class="icon-github"></i></a>
    </div>
  </div>
</footer>

  </div>
  <div id="mobile-nav-dimmer"></div>
  <nav id="mobile-nav">
  <div id="mobile-nav-inner">
    <ul id="mobile-nav-list">
      <a href="../tutorials/intro-to-liquid.html" class="mobile-nav-link">Tutorials</a><a href="../tags/overview.html" class="mobile-nav-link">Tags</a><a href="../filters/overview.html" class="mobile-nav-link">Filters</a><a href="../playground.html" class="mobile-nav-link">Playground</a><a href="../api/classes/Liquid.html" class="mobile-nav-link">API</a>
    </ul>
    
    <div class="mobile-sidebar-list">
      <a href="overview.html" class="mobile-nav-link">Overview</a><a href="inline_comment.html" class="mobile-nav-link">#</a><a href="assign.html" class="mobile-nav-link">assign</a><a href="capture.html" class="mobile-nav-link">capture</a><a href="case.html" class="mobile-nav-link">case</a><a href="comment.html" class="mobile-nav-link">comment</a><a href="cycle.html" class="mobile-nav-link">cycle</a><a href="decrement.html" class="mobile-nav-link">decrement</a><a href="echo.html" class="mobile-nav-link">echo</a><a href="if.html" class="mobile-nav-link">else</a><a href="if.html" class="mobile-nav-link">elsif</a><a href="for.html" class="mobile-nav-link">for</a><a href="if.html" class="mobile-nav-link">if</a><a href="include.html" class="mobile-nav-link">include</a><a href="increment.html" class="mobile-nav-link">increment</a><a href="layout.html" class="mobile-nav-link current">layout</a><a href="liquid.html" class="mobile-nav-link">liquid</a><a href="raw.html" class="mobile-nav-link">raw</a><a href="render.html" class="mobile-nav-link">render</a><a href="tablerow.html" class="mobile-nav-link">tablerow</a><a href="unless.html" class="mobile-nav-link">unless</a><a href="case.html" class="mobile-nav-link">when</a>
    </div>
    
  </div>
  <div id="mobile-button-list">
    <a href="https://github.com/harttle/liquidjs" class="mobile-nav-link" rel="external" target="_blank"><i class="icon-github"></i></a>
    <a href="https://opencollective.com/liquidjs" class="mobile-nav-link" rel="external" target="_blank"><i class="icon-opencollective"></i></a>
    <div id="mobile-lang-select-wrap" class="mobile-nav-link">
      <label for="mobile-lang-select"><i class="icon-network"></i></label>
      <select id="mobile-lang-select" data-canonical="tags/layout.html">
        
          <option value="en" selected>English</option>
        
          <option value="zh-cn">简体中文</option>
        
      </select>
    </div>
  </div>
</nav>
  


<script src="../js/main.js"></script>


<script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script>
document.getElementById('search-input-wrap').classList.add('on');
docsearch({
apiKey: '01f36cc168657a26a385308b9e721bc6',
indexName: 'liquidjs',
inputSelector: '#search-input',
debug: false
});
</script>
</body>
</html>